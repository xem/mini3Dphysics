<title>Ch.9: 3D shape intersections</title>
<h1>Chapter 9: 3D shape intersection</h1>
→ Source code: <a href="../lib/collision.js">collision.js</a>.

<h2>Sphere to sphere</h2>
<p>Two spheres intersect if their distance is lower than the sum of their radii.

<p><code>collisionSphereSphere = (s1, s2) => {
  return dist(s1.position, s2.position) &lt; (s1.radius + s2.radius);
}</code>

<p>Demo (the shapes turn red when a collision is detected)

<p><iframe src=demo1.html width=640 height=480 frameborder=no></iframe>

<h2>Sphere to OBB</h2>

<p>A sphere intersects with an OBB if its distance to the closest point of the OBB is smaller than its radius.

<p><code>collisionSphereOBB = (sphere, obb) => {
  var closest = closestPointOBB(obb, sphere.position);
  var d = dists(sphere.position, closest);
  return d &lt; (sphere.radius ** 2);
}</code>

<p>Demo
<p><iframe src=demo2.html width=640 height=530 frameborder=no></iframe>

<h2>Sphere to plane</h2>
<h2>OBB to OBB</h2>
<h2>OBB to plane</h2>
<h2>plane to plane</h2>


<style>
body { font: 15px calibri }
h2 { margin: 30px 0 0 0; }
code { display: inline-block; background: #def; padding: 10px; margin: 10px 0; font: bold 14px/22px courier; white-space: pre; position: relative;}
.f { background: #fde; font-family: arial; }
code:before { content: "JS code"; color: #abc; position: absolute; top: -17px; left: 0px; font-size: 10px; }
code.f:before { content: "Formula"; color: #cab; }
p { padding: 0 0 0 10px }
code b.sqrt { border-top: 1px solid; }
</style>